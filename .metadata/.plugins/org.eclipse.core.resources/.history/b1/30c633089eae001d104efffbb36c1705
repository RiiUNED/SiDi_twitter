package Servidor;

import java.rmi.*;
import java.rmi.server.*;
import java.util.HashMap;

import Comun.ServerInt;
import Comun.Usuario;


/*
 * Implementa la interfaz remota del servidor ServerInt
 * @autor: rsanchez628@alumno.uned.es
 * 			Ricardo Sanchez
 */
public class ServerImp extends UnicastRemoteObject implements ServerInt{
	
	public ServerImp() throws RemoteException{
		super();
	}
	
	/*
	 * Registra usuarios en la aplicacion
	 * @autor: rsanchez628@alumno.uned.es
	 * 			Ricardo Sanchez
	 */
	public String autenticarse (Usuario user, HashMap<String, Usuario> BBDD) throws java.rmi.RemoteException{
		
		String ok = "Se ha validad el usuaro con nick: "+ user.getNick();
		String error = "No se valido el usuario. Ya hay un usuario con nick: "+ user.getNick();
		
		if (BBDD.containsKey(user.getNick())) {
			return error;
		} else {
			return ok;
		}
		
	}
}